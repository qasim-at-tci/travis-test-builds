os: linux
dist: jammy

language: ruby
ruby: 3.0.7

before_install:
  - gem install bundler -v 2.5.10
  # - bundle config build.RedCloth --with-cflags=\'-Wdiv-by-zero -Wextra-semi\'
  # - bundle config build.racc --with-cflags=\'-Wdiv-by-zero -Wextra-semi\'
  # - bundle config build.nio4r --with-cflags=\'-Wdiv-by-zero -Wextra-semi\'
  # - bundle config build.date --with-cflags=\'-Wdiv-by-zero -Wextra-semi\'
  # - bundle config build.rbtree3 --with-cflags=\'-Wdiv-by-zero -Wextra-semi\'
  # - bundle config build.eventmachine --with-cflags=\'-Wdiv-by-zero -Wextra-semi\'
  # - bundle config build.unf_ext --with-cflags=\'-Wdiv-by-zero -Wextra-semi\'
  # - bundle config build.ffi --with-cflags=\'-Wdiv-by-zero -Wextra-semi\'
  # - bundle config build.rbtree --with-cflags=\'-Wdiv-by-zero -Wextra-semi\'
  # - bundle config build.byebug --with-cflags=\'-Wdiv-by-zero -Wextra-semi\'
  # - bundle config build.strscan --with-cflags=\'-Wdiv-by-zero -Wextra-semi\'
  # - bundle config build.stackprof --with-cflags=\'-Wdiv-by-zero -Wextra-semi\'
  - sudo apt-get install -y gcc-4.3 gcc-4.4 g++-4.3 g++-4.4

install:
  #- export CFLAGS='-Wdiv-by-zero -Wextra-semi'
  #- gcc --version
  - bundle install
script: sleep 10

jobs:
  include:
    #- dist: xenial
    #- dist: bionic
    - dist: focal
    #- dist: jammy
